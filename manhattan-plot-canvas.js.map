{"version":3,"file":"manhattan-plot-canvas.js","sources":["../../../home/runner/work/metastanza/metastanza/stanzas/manhattan-plot-canvas/index.js"],"sourcesContent":["import * as d3 from \"d3\";\nimport { getFormatedJson, appendDlButton } from \"@/lib/metastanza_utils.js\";\n\nexport default async function manhattanPlotCanvas(stanza, params) {\n  stanza.render({\n    template: \"stanza.html.hbs\",\n    parameters: {\n      title: params.title,\n    },\n  });\n\n  console.log(params.api);\n  const dataset = await getFormatedJson(\n    params.api,\n    stanza.root.querySelector(\"#chart\")\n  );\n\n  draw(dataset, stanza, params);\n\n  appendDlButton(\n    stanza.root.querySelector(\"#chart\"),\n    stanza.root.querySelector(\"svg\"),\n    \"manhattan_plot\",\n    stanza\n  );\n}\n\nasync function draw(dataset, stanza, params) {\n  const width = 800;\n  const height = 400;\n  const marginLeft = 30;\n  const marginBottom = 30;\n  const areaWidth = width - marginLeft;\n  const areaHeight = height - marginBottom;\n\n  const chart_element = stanza.root.querySelector(\"#chart\");\n  const control_element = stanza.root.querySelector(\"#control\");\n\n  if (params.low_thresh === \"\") {\n    params.low_thresh = 0.5;\n  }\n  if (params.high_thresh === \"\") {\n    params.high_thresh = Infinity;\n  }\n  if (params.chromosome_key === \"\") {\n    params.chromosome_key = \"chromosome\";\n  }\n  if (params.position_key === \"\") {\n    params.position_key = \"position\";\n  }\n  if (params.p_value_key === \"\") {\n    params.p_value__key = \"p-value\";\n  }\n  if (params.label_key === \"\") {\n    params.label_key = \"label\";\n  }\n  const low_thresh = parseFloat(params.low_thresh);\n  const high_thresh = parseFloat(params.high_thresh);\n  const even_and_odd = params.even_and_odd === \"true\";\n  const chromosome_key = params.chromosome_key;\n  const position_key = params.position_key;\n  const p_value_key = params.p_value_key;\n  const label_key = params.label_key;\n\n  const chromosomes = [\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"10\",\n    \"11\",\n    \"12\",\n    \"13\",\n    \"14\",\n    \"15\",\n    \"16\",\n    \"17\",\n    \"18\",\n    \"19\",\n    \"20\",\n    \"21\",\n    \"22\",\n    \"X\",\n    \"Y\",\n  ];\n  const chromosomeNtLength = {\n    hg38: {\n      1: 248956422,\n      2: 242193529,\n      3: 198295559,\n      4: 190214555,\n      5: 181538259,\n      6: 170805979,\n      7: 159345973,\n      8: 145138636,\n      9: 138394717,\n      10: 133797422,\n      11: 135086622,\n      12: 133275309,\n      13: 114364328,\n      14: 107043718,\n      15: 101991189,\n      16: 90338345,\n      17: 83257441,\n      18: 80373285,\n      19: 58617616,\n      20: 64444167,\n      21: 46709983,\n      22: 50818468,\n      X: 156040895,\n      Y: 57227415,\n    },\n  };\n\n  const canvas_div = d3\n    .select(chart_element)\n    .append(\"div\")\n    .style(\"width\", areaWidth + \"px\")\n    .style(\"overflow\", \"hidden\")\n    .style(\"position\", \"absolute\")\n    .style(\"left\", marginLeft + \"px\");\n  const canvas = canvas_div\n    .append(\"canvas\")\n    .attr(\"width\", areaWidth)\n    .attr(\"height\", areaHeight)\n    .style(\"position\", \"relative\");\n  const svg = d3\n    .select(chart_element)\n    .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height);\n  const plot_g = svg.append(\"g\").attr(\"id\", \"plot_group\");\n  const axis_g = svg.append(\"g\").attr(\"id\", \"axis\");\n  const xlabel_g = svg.append(\"g\").attr(\"id\", \"x_label\");\n  const ylabel_g = svg.append(\"g\").attr(\"id\", \"y_label\");\n\n  let range = []; // [begin position, en _position]\n  let max_log_p = 0;\n  let max_log_p_int;\n  let total;\n\n  // axis line\n  axis_g\n    .append(\"path\")\n    .attr(\"d\", \"M \" + marginLeft + \", \" + areaHeight + \" H \" + width + \" Z\")\n    .attr(\"class\", \"axis-line\");\n  axis_g\n    .append(\"path\")\n    .attr(\"d\", \"M \" + marginLeft + \", 0 V \" + areaHeight + \" Z\")\n    .attr(\"class\", \"axis-line\");\n\n  // select range by drag\n  let dragBegin = false;\n  svg\n    .on(\"mousedown\", function (e) {\n      if (d3.pointer(e)[1] <= areaHeight) {\n        dragBegin = d3.pointer(e)[0];\n        svg\n          .append(\"rect\")\n          .attr(\"fill\", \"rgba(128, 128, 128, 0.2)\")\n          .attr(\"stroke\", \"black\")\n          .attr(\"x\", dragBegin)\n          .attr(\"y\", 0)\n          .attr(\"width\", 0)\n          .attr(\"height\", areaHeight)\n          .attr(\"id\", \"selector\");\n      }\n    })\n    .on(\"mousemove\", function (e) {\n      if (dragBegin) {\n        const dragEnd = d3.pointer(e)[0];\n        if (dragBegin < dragEnd) {\n          svg.select(\"#selector\").attr(\"width\", dragEnd - dragBegin);\n        } else {\n          svg\n            .select(\"#selector\")\n            .attr(\"x\", dragEnd)\n            .attr(\"width\", dragBegin - dragEnd);\n        }\n      }\n    })\n    .on(\"mouseup\", function (e) {\n      if (dragBegin) {\n        const dragEnd = d3.pointer(e)[0];\n        // re-render\n        if (-5 > dragEnd - dragBegin) {\n          range = [\n            (dragEnd / width) * (range[1] - range[0]) + range[0],\n            (dragBegin / width) * (range[1] - range[0]) + range[0],\n          ];\n          reRender();\n        } else if (dragEnd - dragBegin > 5) {\n          range = [\n            (dragBegin / width) * (range[1] - range[0]) + range[0],\n            (dragEnd / width) * (range[1] - range[0]) + range[0],\n          ];\n          reRender();\n        }\n        svg.select(\"#selector\").remove();\n        dragBegin = false;\n      }\n    });\n\n  // slider\n  const ctrl_svg = d3\n    .select(control_element)\n    .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", 20);\n  ctrl_svg\n    .append(\"path\")\n    .attr(\"d\", \"M \" + marginLeft + \", 10 H \" + width + \" Z\")\n    .attr(\"stroke\", \"#888888\")\n    .attr(\"stroke-width\", \"2px\");\n  ctrl_svg\n    .append(\"rect\")\n    .attr(\"id\", \"slider\")\n    .attr(\"x\", marginLeft)\n    .attr(\"y\", 2)\n    .attr(\"width\", areaWidth)\n    .attr(\"height\", 16)\n    .attr(\"fill\", \"#8888ff\")\n    .call(\n      d3\n        .drag()\n        .on(\"start\", function (e) {\n          dragBegin = e.x;\n        })\n        .on(\"drag\", function (e) {\n          if (dragBegin) {\n            const slider = ctrl_svg.select(\"rect#slider\");\n            let delta = e.x - dragBegin;\n            if (parseFloat(slider.attr(\"x\")) + delta < marginLeft) {\n              delta = (parseFloat(slider.attr(\"x\")) - marginLeft) * -1;\n            } else if (\n              parseFloat(slider.attr(\"x\")) +\n                parseFloat(slider.attr(\"width\")) +\n                delta >\n              width\n            ) {\n              delta =\n                width -\n                (parseFloat(slider.attr(\"x\")) +\n                  parseFloat(slider.attr(\"width\")));\n            }\n            slider.attr(\"transform\", \"translate(\" + delta + \", 0)\");\n            const move = (delta / areaWidth) * total;\n            // renderCanvas([range[0] + move, range[1] + move]);\n            canvas\n              .style(\n                \"left\",\n                ((range[0] + move) / (range[0] - range[1])) * areaWidth + \"px\"\n              )\n              .style(\"display\", \"block\");\n            setRange([range[0] + move, range[1] + move]);\n            plot_g.html(\"\");\n            xlabel_g.html(\"\");\n          }\n        })\n        .on(\"end\", function (e) {\n          if (dragBegin) {\n            // re-render\n            const slider = ctrl_svg.select(\"rect#slider\");\n            let delta = e.x - dragBegin;\n            if (parseFloat(slider.attr(\"x\")) + delta < marginLeft) {\n              delta = (parseFloat(slider.attr(\"x\")) - marginLeft) * -1;\n            } else if (\n              parseFloat(slider.attr(\"x\")) +\n                parseFloat(slider.attr(\"width\")) +\n                delta >\n              width\n            ) {\n              delta =\n                width -\n                (parseFloat(slider.attr(\"x\")) +\n                  parseFloat(slider.attr(\"width\")));\n            }\n            const move = (delta / areaWidth) * total;\n            range = [range[0] + move, range[1] + move];\n            reRender();\n            dragBegin = false;\n          }\n        })\n    );\n\n  // button\n  const ctrl_button = d3\n    .select(control_element)\n    .append(\"div\")\n    .attr(\"id\", \"ctrl_button\");\n  ctrl_button\n    .append(\"input\")\n    .attr(\"type\", \"button\")\n    .attr(\"value\", \"-\")\n    .on(\"click\", function () {\n      let begin = range[0] - (range[1] - range[0]) / 2;\n      let end = range[1] + (range[1] - range[0]) / 2;\n      if (begin < 0) {\n        begin = 0;\n        end = (range[1] - range[0]) * 2;\n        if (end > total) {\n          end = total;\n        }\n      } else if (end > total) {\n        end = total;\n        begin = total - (range[1] - range[0]) * 2;\n        if (begin < 0) {\n          begin - 0;\n        }\n      }\n      range = [begin, end];\n      reRender();\n    });\n  ctrl_button\n    .append(\"input\")\n    .attr(\"type\", \"button\")\n    .attr(\"value\", \"+\")\n    .on(\"click\", function () {\n      const begin = range[0] + (range[1] - range[0]) / 4;\n      const end = range[1] - (range[1] - range[0]) / 4;\n      range = [begin, end];\n      reRender();\n    });\n  ctrl_button.append(\"span\").attr(\"id\", \"range_text\");\n  ctrl_button\n    .append(\"input\")\n    .attr(\"type\", \"button\")\n    .attr(\"value\", \"reset\")\n    .on(\"click\", function () {\n      range = [];\n      reRender();\n    });\n\n  reRender();\n\n  function reRender() {\n    if (range[0] === undefined) {\n      range = [\n        0,\n        Object.values(chromosomeNtLength.hg38).reduce(\n          (sum, value) => sum + value\n        ),\n      ];\n      total = range[1];\n    }\n\n    max_log_p = 0;\n\n    plot_g.html(\"\");\n    xlabel_g.html(\"\");\n    ylabel_g.html(\"\");\n\n    plot_g\n      .selectAll(\".plot\")\n      .data(dataset)\n      .enter()\n      // filter: display range\n      .filter(function (d) {\n        if (!d.pos) {\n          // calculate  accumulated position\n          let pos = 0;\n          for (const ch of chromosomes) {\n            if (ch === d[chromosome_key]) {\n              break;\n            }\n            pos += chromosomeNtLength.hg38[ch];\n          }\n          d.pos = pos + parseInt(d[position_key]);\n        }\n        return range[0] <= d.pos && d.pos <= range[1];\n      })\n      // filter: low p-value\n      .filter(function (d) {\n        return Math.log10(parseFloat(d[p_value_key])) * -1 > low_thresh;\n      })\n      .append(\"circle\")\n      .attr(\"class\", function (d) {\n        if (even_and_odd) {\n          let tmp = \"even\";\n          if (\n            d[chromosome_key] === \"X\" ||\n            parseInt(d[chromosome_key]) % 2 === 1\n          ) {\n            tmp = \"odd\";\n          }\n          return \"plot ch_\" + tmp;\n        }\n        return \"plot ch_\" + d[chromosome_key];\n      })\n      .attr(\"cx\", function (d) {\n        return (\n          ((d.pos - range[0]) / (range[1] - range[0])) * areaWidth + marginLeft\n        );\n      })\n      .attr(\"cy\", function (d) {\n        // set max log(p-value)\n        if (max_log_p < Math.log10(parseFloat(d[p_value_key])) * -1) {\n          max_log_p = Math.log10(parseFloat(d[p_value_key])) * -1;\n        }\n        return areaHeight;\n      })\n      .attr(\"r\", 2)\n      // filter: high p-value\n      .filter(function (d) {\n        return Math.log10(parseFloat(d[p_value_key])) * -1 > high_thresh;\n      })\n      .classed(\"over-thresh-plot\", true)\n      .on(\"mouseover\", function (e, d) {\n        svg\n          .append(\"text\")\n          .text(d[label_key]) //.text(d.dbSNP_RS_ID + \", \" + d.Symbol)\n          .attr(\"x\", d3.pointer(e)[0] + 10)\n          .attr(\"y\", d3.pointer(e)[1])\n          .attr(\"id\", \"popup_text\");\n      })\n      .on(\"mouseout\", function () {\n        svg.select(\"#popup_text\").remove();\n      });\n\n    // set 'cy' from max log(p-value) (int)\n    if (max_log_p_int === undefined) {\n      max_log_p_int = Math.floor(max_log_p);\n    }\n    plot_g.selectAll(\".plot\").attr(\"cy\", function (d) {\n      return (\n        areaHeight -\n        ((Math.log10(parseFloat(d[p_value_key])) * -1 - low_thresh) *\n          areaHeight) /\n          max_log_p_int\n      );\n    });\n\n    renderCanvas(range);\n\n    // x axis label\n    xlabel_g\n      .selectAll(\".xLabel\")\n      .data(chromosomes)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"axisLabel xLabel\")\n      .text(function (d) {\n        return d;\n      })\n      .attr(\"x\", function (d) {\n        let pos = chromosomeNtLength.hg38[d] / 2;\n        for (const ch of chromosomes) {\n          if (ch === d) {\n            break;\n          }\n          pos += chromosomeNtLength.hg38[ch];\n        }\n        return (\n          ((pos - range[0]) / (range[1] - range[0])) * areaWidth + marginLeft\n        );\n      })\n      .attr(\"y\", areaHeight + 20);\n\n    // y axis label\n    for (let i = Math.floor(low_thresh) + 1; i <= max_log_p_int; i++) {\n      const y = areaHeight - ((i - low_thresh) * areaHeight) / max_log_p_int;\n      ylabel_g\n        .append(\"text\")\n        .text(i)\n        .attr(\"class\", \"axisLabel yLabel\")\n        .attr(\"x\", marginLeft - 16)\n        .attr(\"y\", y)\n        .attr(\"text-anchor\", \"end\");\n      ylabel_g\n        .append(\"path\")\n        .attr(\"class\", \"axis-line\")\n        .attr(\n          \"d\",\n          \"M \" + (marginLeft - 10) + \", \" + y + \" H \" + marginLeft + \" Z\"\n        );\n    }\n    //// y zero (low_thresh)\n    ylabel_g\n      .append(\"text\")\n      .text(low_thresh)\n      .attr(\"class\", \"axisLabel yLabel\")\n      .attr(\"x\", marginLeft - 16)\n      .attr(\"y\", areaHeight)\n      .attr(\"text-anchor\", \"end\");\n    ylabel_g\n      .append(\"path\")\n      .attr(\"class\", \"axis-line\")\n      .attr(\n        \"d\",\n        \"M \" + (marginLeft - 10) + \", \" + areaHeight + \" H \" + marginLeft + \" Z\"\n      );\n\n    // slider\n    ctrl_svg\n      .select(\"rect#slider\")\n      .attr(\"x\", marginLeft + (range[0] / total) * areaWidth)\n      .attr(\"width\", ((range[1] - range[0]) / total) * areaWidth)\n      .attr(\"transform\", \"translate(0, 0)\");\n\n    setRange(range);\n  }\n\n  function renderCanvas(range) {\n    if (canvas.node().getContext) {\n      canvas.attr(\"width\", (total / (range[1] - range[0])) * areaWidth);\n      const ctx = canvas.node().getContext(\"2d\");\n      ctx.clearRect(0, 0, areaWidth, areaHeight);\n      for (const d of dataset) {\n        ctx.beginPath();\n        if (Math.log10(parseFloat(d[p_value_key])) * -1 > high_thresh) {\n          ctx.fillStyle = getComputedStyle(stanza.root.host).getPropertyValue(\n            \"--over-thresh-color\"\n          );\n        } else if (even_and_odd) {\n          let tmp = \"even\";\n          if (\n            d[chromosome_key] === \"X\" ||\n            parseInt(d[chromosome_key]) % 2 === 1\n          ) {\n            tmp = \"odd\";\n          }\n          ctx.fillStyle = getComputedStyle(stanza.root.host).getPropertyValue(\n            \"--ch-\" + tmp + \"-color\"\n          );\n        } else {\n          ctx.fillStyle = getComputedStyle(stanza.root.host).getPropertyValue(\n            \"--ch-\" + d[chromosome_key] + \"-color\"\n          );\n        }\n        ctx.arc(\n          (d.pos / (range[1] - range[0])) * areaWidth,\n          areaHeight -\n            ((Math.log10(parseFloat(d[p_value_key])) * -1 - low_thresh) *\n              areaHeight) /\n              max_log_p_int,\n          2,\n          0,\n          Math.PI * 2\n        );\n        ctx.fill();\n      }\n      canvas.style(\n        \"left\",\n        (range[0] / (range[0] - range[1])) * areaWidth + \"px\"\n      );\n    }\n    canvas.style(\"display\", \"none\");\n  }\n\n  function setRange(range) {\n    let start = 0;\n    let text = \"\";\n    for (const ch of chromosomes) {\n      if (start + chromosomeNtLength.hg38[ch] >= range[0] && !text) {\n        text += \" Ch.\" + ch + \":\" + Math.floor(range[0]);\n      }\n      if (start + chromosomeNtLength.hg38[ch] >= range[1]) {\n        text += \" - Ch.\" + ch + \":\" + Math.floor(range[1] - start);\n        break;\n      }\n      start += chromosomeNtLength.hg38[ch];\n      console.log(start + chromosomeNtLength.hg38[ch]);\n    }\n    ctrl_button.select(\"#range_text\").html(text);\n  }\n}\n"],"names":["d3\n    .select","d3.pointer","d3\n        .drag"],"mappings":"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"}